{"ast":null,"code":"import _objectSpread from\"/home/devendra/chess-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/devendra/chess-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import React from'react';import'./landing-page-chessboard.scss';import{Chessboard}from\"react-chessboard\";import{jsx as _jsx}from\"react/jsx-runtime\";var Chess=require('chess.js');export var LandingPageChessBoard=function LandingPageChessBoard(){var _useState=useState(new Chess()),_useState2=_slicedToArray(_useState,2),game=_useState2[0],setGame=_useState2[1];function makeAMove(move){var gameCopy=_objectSpread({},game);var result=gameCopy.move(move);setGame(gameCopy);return result;// null if the move was illegal, the move object if the move was legal\n}function makeRandomMove(){var possibleMoves=game.moves();if(game.game_over()||game.in_draw()||possibleMoves.length===0)return;// exit if the game is over\nvar randomIndex=Math.floor(Math.random()*possibleMoves.length);makeAMove(possibleMoves[randomIndex]);}function onDrop(sourceSquare,targetSquare){var move=makeAMove({from:sourceSquare,to:targetSquare,promotion:\"q\"// always promote to a queen for example simplicity\n});// illegal move\nif(move===null)return false;setTimeout(makeRandomMove,200);return true;}return/*#__PURE__*/_jsx(\"div\",{className:\"chessBoard\",children:/*#__PURE__*/_jsx(Chessboard,{position:game.fen(),onPieceDrop:onDrop})});};","map":{"version":3,"names":["useState","React","Chessboard","Chess","require","LandingPageChessBoard","game","setGame","makeAMove","move","gameCopy","result","makeRandomMove","possibleMoves","moves","game_over","in_draw","length","randomIndex","Math","floor","random","onDrop","sourceSquare","targetSquare","from","to","promotion","setTimeout","fen"],"sources":["/home/devendra/chess-app/src/modules/landing-page/components/landing-page-chessboard-component/landing-page-chessboard.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport React from 'react';\nimport './landing-page-chessboard.scss';\nimport { Chessboard } from \"react-chessboard\";\nconst Chess = require('chess.js');\n\n\n\n\nexport const LandingPageChessBoard: React.FC = () => {\n  const [game, setGame] = useState(new Chess());\n  \n  function makeAMove(move: any) {\n    const gameCopy = { ...game };\n    const result = gameCopy.move(move);\n    setGame(gameCopy);\n    return result; // null if the move was illegal, the move object if the move was legal\n  }\n\n  function makeRandomMove() {\n    const possibleMoves = game.moves();\n    if (game.game_over() || game.in_draw() || possibleMoves.length === 0) return; // exit if the game is over\n    const randomIndex = Math.floor(Math.random() * possibleMoves.length);\n    makeAMove(possibleMoves[randomIndex]);\n  }\n\n  function onDrop(sourceSquare: any, targetSquare: any) {\n    const move = makeAMove({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: \"q\", // always promote to a queen for example simplicity\n    });\n\n    // illegal move\n    if (move === null) return false;\n    setTimeout(makeRandomMove, 200);\n    return true;\n  }\n\n  return(\n    <div className=\"chessBoard\">\n      <Chessboard position={game.fen()} onPieceDrop={onDrop}/>\n    </div>\n  )\n}"],"mappings":"2NAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAO,gCAAgC,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAAC,2CAC9C,GAAMC,MAAK,CAAGC,OAAO,CAAC,UAAU,CAAC,CAKjC,MAAO,IAAMC,sBAA+B,CAAG,QAAlCA,sBAA+B,EAAS,CACnD,cAAwBL,QAAQ,CAAC,GAAIG,MAAK,EAAE,CAAC,wCAAtCG,IAAI,eAAEC,OAAO,eAEpB,QAASC,UAAS,CAACC,IAAS,CAAE,CAC5B,GAAMC,SAAQ,kBAAQJ,IAAI,CAAE,CAC5B,GAAMK,OAAM,CAAGD,QAAQ,CAACD,IAAI,CAACA,IAAI,CAAC,CAClCF,OAAO,CAACG,QAAQ,CAAC,CACjB,MAAOC,OAAM,CAAE;AACjB,CAEA,QAASC,eAAc,EAAG,CACxB,GAAMC,cAAa,CAAGP,IAAI,CAACQ,KAAK,EAAE,CAClC,GAAIR,IAAI,CAACS,SAAS,EAAE,EAAIT,IAAI,CAACU,OAAO,EAAE,EAAIH,aAAa,CAACI,MAAM,GAAK,CAAC,CAAE,OAAQ;AAC9E,GAAMC,YAAW,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,CAAGR,aAAa,CAACI,MAAM,CAAC,CACpET,SAAS,CAACK,aAAa,CAACK,WAAW,CAAC,CAAC,CACvC,CAEA,QAASI,OAAM,CAACC,YAAiB,CAAEC,YAAiB,CAAE,CACpD,GAAMf,KAAI,CAAGD,SAAS,CAAC,CACrBiB,IAAI,CAAEF,YAAY,CAClBG,EAAE,CAAEF,YAAY,CAChBG,SAAS,CAAE,GAAK;AAClB,CAAC,CAAC,CAEF;AACA,GAAIlB,IAAI,GAAK,IAAI,CAAE,MAAO,MAAK,CAC/BmB,UAAU,CAAChB,cAAc,CAAE,GAAG,CAAC,CAC/B,MAAO,KAAI,CACb,CAEA,mBACE,YAAK,SAAS,CAAC,YAAY,uBACzB,KAAC,UAAU,EAAC,QAAQ,CAAEN,IAAI,CAACuB,GAAG,EAAG,CAAC,WAAW,CAAEP,MAAO,EAAE,EACpD,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}